<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://openlayers.org/en/v4.3.2/css/ol.css" type="text/css">
    <style>
      html, body {
        margin: 0;
      }

      html, body, .map {
        height: 100%;
        width: 100%;
      }
    </style>
    <title>Verschenken statt Wegwerfen</title>
  </head>
  <body>
    <div id="map" class="map"></div>
    <script src="https://openlayers.org/en/v4.3.2/build/ol.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <script type="text/javascript">
      $.getJSON("data.json", function(json) {
        console.log(json);
        console.log(json.features);
        console.log(json.features.map(function(el) { return el.geometry; }));

        var vectorSource = new ol.source.Vector({
          features: (new ol.format.GeoJSON()).readFeatures(json)
          // features: (new ol.format.GeoJSON()).readFeatures(json.features.map(function(el) { return el.geometry; }))
        });

        var vectorLayer = new ol.layer.Vector({
          source: vectorSource
        });

        var map = new ol.Map({
          target: 'map',
          layers: [
            new ol.layer.Tile({
              source: new ol.source.OSM()
            }),
            vectorLayer
          ],
          view: new ol.View({
            center: ol.proj.fromLonLat([37.41, 8.82]),
            zoom: 4
          })
        });
      });
    </script>
  </body>
</html>
